<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<!-- Kế thừa header/footer từ fragments -->
<body>

<!-- Header -->
<div th:replace="~{fragments :: header}"></div>

<main style="max-width:1100px;margin:24px auto;padding:0 12px;">
    <h2 style="color:#1a202c;margin-bottom:12px;">Danh sách danh mục</h2>

    <div style="margin-bottom:16px; display:flex; flex-wrap:wrap; justify-content:space-between;">
        <a th:href="@{/categoryController/addPage}"
           style="background:#2b6cb0;color:white;padding:8px 12px;border-radius:6px;text-decoration:none;">Thêm danh mục</a>
        <form method="get" th:action="@{/categoryController/categoryPage(page=${page})}">
            <label>
                <input type="text" name="searchValue" th:value="${searchValue}" placeholder="Nhập tên danh mục">
                <button type="submit" style="cursor: pointer">Tìm kiếm</button>
            </label>
        </form>
    </div>

    <table style="width:100%;border-collapse:collapse;background:white;box-shadow:0 2px 6px rgba(0,0,0,0.06);">
        <thead>
        <tr style="background:#2b6cb0;color:white;text-align:left;">
            <th style="padding:10px 12px;">Mã danh mục</th>
            <th style="padding:10px 12px;">Tên danh mục</th>
            <th style="padding:10px 12px;">Mô tả danh mục</th>
            <th style="padding:10px 12px;">Trạng thái</th>
            <th style="padding:10px 12px;">Hoạt động</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="category : ${categories}">
            <td style="padding:10px 12px;border-top:1px solid #eef2f6;" th:text="${category.categoryId}"></td>
            <td style="padding:10px 12px;border-top:1px solid #eef2f6;" th:text="${category.categoryName}"></td>
            <td style="padding:10px 12px;border-top:1px solid #eef2f6;" th:text="${category.description}"></td>
            <td style="padding:10px 12px;border-top:1px solid #eef2f6;"
                th:text="${category.status ? 'Active' : 'Inactive'}">Active
            </td>
            <td style="padding:10px 12px;border-top:1px solid #eef2f6;">
                <a th:href="@{/categoryController/editPage(id=${category.categoryId})}">Edit</a>
                <a th:href="@{/categoryController/delete(id=${category.categoryId})}">Delete</a>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(categories)}">
            <td colspan="6" style="padding:14px;text-align:center;color:#666;">Chưa có danh mục nào</td>
        </tr>
        </tbody>
    </table>
    <div>
        <a
                th:each="page : ${#numbers.sequence(1, totalPage)}"
                th:text="${page}"
                th:styleappend="${page == currentPage} ? 'background: red;' : 'background: #2b6cb0;'"
                style="display:inline-block;color:white;padding:4px 8px;border-radius:6px;text-decoration: none; margin: 20px 10px 0 0; cursor:pointer;"
                th:href="@{/categoryController/categoryPage(page=${page}, searchValue=${searchValue})}">)}"
            ></a>
    </div>
</main>

<!-- Footer -->
<div th:replace="~{fragments :: footer}"></div>

</body>
</html>
